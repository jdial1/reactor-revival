<!-- PARTS SIDEBAR -->
<aside id="parts_section" class="pixel-panel collapsed">
  <button
    id="parts_panel_toggle"
    class="pixel-btn"
    aria-label="Toggle parts panel"
  >
    <span class="vertical-text">PARTS</span>
  </button>
  <div class="parts_tabs">
    <button
      class="pixel-btn parts_tab active"
      id="tab_power"
      data-tab="power"
      title="Power Creation"
    >
      <img src="img/ui/icons/icon_power.png" alt="Power" />
    </button>
    <button
      class="pixel-btn parts_tab"
      id="tab_heat"
      data-tab="heat"
      title="Heat Management"
    >
      <img src="img/ui/icons/icon_heat.png" alt="Heat" />
    </button>
    <button
      class="pixel-btn parts_tab"
      id="tab_misc1"
      data-tab="misc1"
      title="Other"
      disabled
    >
      <span role="img" aria-label="Locked">ðŸ”’</span>
    </button>
    <button
      class="pixel-btn parts_tab"
      id="tab_misc2"
      data-tab="misc2"
      title="Other"
      disabled
    >
      <span role="img" aria-label="Locked">ðŸ”’</span>
    </button>
  </div>
  <div id="parts_tab_contents">
    <div id="parts_tab_power" class="parts_tab_content active">
      <h4>Cells</h4>
      <div id="cells" class="item-grid pixel-panel is-inset"></div>
      <h4>Reflectors</h4>
      <div id="reflectors" class="item-grid pixel-panel is-inset"></div>
      <h4>Capacitors</h4>
      <div id="capacitors" class="item-grid pixel-panel is-inset"></div>
      <h4>Particle Accelerators</h4>
      <div
        id="particleAccelerators"
        class="item-grid pixel-panel is-inset"
      ></div>
    </div>
    <div id="parts_tab_heat" class="parts_tab_content">
      <h4>Vents</h4>
      <div id="vents" class="item-grid pixel-panel is-inset"></div>
      <h4>Heat Exchangers</h4>
      <div id="heatExchangers" class="item-grid pixel-panel is-inset"></div>
      <h4>Inlets</h4>
      <div id="heatInlets" class="item-grid pixel-panel is-inset"></div>
      <h4>Outlets</h4>
      <div id="heatOutlets" class="item-grid pixel-panel is-inset"></div>
      <h4>Coolant Cells</h4>
      <div id="coolantCells" class="item-grid pixel-panel is-inset"></div>
      <h4>Reactor Platings</h4>
      <div id="reactorPlatings" class="item-grid pixel-panel is-inset"></div>
    </div>
  </div>
  <nav id="controls_nav" class="pixel-panel is-inset">
    <button
      id="controls_collapse_btn"
      class="pixel-btn nav_button"
      title="Collapse Options"
    >
      <span id="controls_collapse_icon">â–¼</span>
    </button>
    <div id="controls_expanded_group">
      <button
        id="auto_sell_toggle"
        class="pixel-btn nav_button"
        title="Auto Sell"
      >
        Auto Sell
      </button>
      <button
        id="auto_buy_toggle"
        class="pixel-btn nav_button"
        title="Auto Buy"
      >
        Auto Buy
      </button>
      <button
        id="time_flux_toggle"
        class="pixel-btn nav_button"
        title="Time Flux"
      >
        Time Flux
      </button>
      <button
        id="heat_control_toggle"
        class="pixel-btn nav_button"
        title="Heat Ctrl"
      >
        Heat Controller
      </button>
      <button id="pause_toggle" class="pixel-btn nav_button" title="Pause/Play">
        Pause
      </button>
    </div>
    <div id="controls_collapsed_group" style="display: none">
      <button
        class="collapsed-control-btn"
        data-control="auto_sell"
        title="Auto Sell"
      ></button>
      <button
        class="collapsed-control-btn"
        data-control="auto_buy"
        title="Auto Buy"
      ></button>
      <button
        class="collapsed-control-btn"
        data-control="time_flux"
        title="Time Flux"
      ></button>
      <button
        class="collapsed-control-btn"
        data-control="heat_control"
        title="Heat Controller"
      ></button>
      <button
        class="collapsed-control-btn"
        data-control="pause"
        title="Pause"
      ></button>
    </div>
  </nav>
</aside>

<!-- MAIN CONTENT -->
<main id="main">
  <div id="main_content_wrapper">
    <div id="main_top_nav" class="main_top_controls_row pixel-panel">
      <button class="pixel-btn active" data-page="reactor_section">
        Reactor
      </button>
      <button class="pixel-btn" data-page="upgrades_section">Upgrade</button>
      <button class="pixel-btn" data-page="experimental_upgrades_section">
        Research
      </button>
      <div class="flex-spacer"></div>
      <button
        id="about_toggle"
        class="pixel-btn is-small"
        title="About"
        data-page="about_section"
      >
        â„¹
      </button>
      <button
        id="fullscreen_toggle"
        class="pixel-btn is-small"
        title="Toggle Fullscreen"
      >
        â›¶
      </button>
      <button
        id="splash_close_btn"
        class="pixel-btn is-small splash-close-btn"
        title="Back to Splash"
      >
        âœ–
      </button>
    </div>
    <section id="objectives_section" class="pixel-panel panel-ornate">
      <div id="objectives_wrapper">
        <div id="objectives_content">
          <span id="objective_title"></span>
          <span id="objective_reward"></span>
        </div>
      </div>
    </section>

    <div id="page_content_area">
      <!-- Content will be loaded dynamically -->
    </div>

    <!-- TOOLTIP -->
    <section id="tooltip" class="pixel-panel" aria-live="polite">
      <div id="tooltip_data"></div>
    </section>
  </div>
</main>

<!-- INFO BAR (FIXED) -->
<div id="info_bar" class="pixel-panel">
  <div id="info_stats_group_1">
    <div class="pixel-progress heat" id="reduceHeatBtnInfoBar">
      <div class="pixel-progress-bar" id="info_heat_progress"></div>
      <button class="stat_button pixel-btn">
        <span>Heat:</span>
        <span class="stat_value"
          ><span id="info_bar_current_heat">0</span>/<span
            id="info_bar_max_heat"
            >0</span
          ></span
        >
      </button>
    </div>
    <div class="pixel-progress power" id="sellBtnInfoBar">
      <div class="pixel-progress-bar" id="info_power_progress"></div>
      <button title="Sell Power" class="stat_button pixel-btn">
        <span>Power:</span>
        <span class="stat_value"
          ><span id="info_bar_current_power">0</span>/<span
            id="info_bar_max_power"
            >0</span
          ></span
        >
      </button>
    </div>
  </div>
  <div id="info_stats_group_2">
    <div class="stat_block" id="info_money_block">
      <span>Money:</span>
      <span class="stat_value">$<span id="info_bar_money">0</span></span>
    </div>
  </div>
</div>

<!-- BOTTOM NAV (MOBILE) -->
<nav id="bottom_nav">
  <button
    id="nav_reactor_btn"
    class="pixel-btn active"
    data-page="reactor_section"
  >
    Reactor
  </button>
  <button id="nav_upgrades_btn" class="pixel-btn" data-page="upgrades_section">
    Upgrade
  </button>
  <button
    id="nav_experiments_btn"
    class="pixel-btn"
    data-page="experimental_upgrades_section"
  >
    Research
  </button>
</nav>
