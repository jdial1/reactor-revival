<nav id="main_top_nav" class="grid container-fluid nav-bar-row">
  <ul>
    <li>
      <a href="#" class="secondary" role="button" data-page="reactor_section"
        >Reactor</a
      >
    </li>
    <li>
      <a href="#" class="secondary" role="button" data-page="upgrades_section"
        >Upgrades</a
      >
    </li>
    <li>
      <a
        href="#"
        class="secondary"
        role="button"
        data-page="experimental_upgrades_section"
        >Research</a
      >
    </li>
  </ul>
  <ul id="reactor_stats">
    <li>
      <strong title="Estimated power per tick"
        >âš¡<span id="stats_power">0</span></strong
      >
    </li>
    <li>
      <strong title="Estimated heat per tick"
        >ðŸ”¥<span id="stats_heat">0</span></strong
      >
    </li>
    <li>
      <strong title="Estimated cash per tick"
        >ðŸ’°<span id="stats_cash">0</span></strong
      >
    </li>
  </ul>
  <ul>
    <li>
      <button
        id="fullscreen_toggle"
        class="secondary"
        title="Toggle Fullscreen"
      >
        â›¶
      </button>
    </li>
    <li>
      <button id="splash_close_btn" class="secondary" title="Back to Splash">
        âœ–
      </button>
    </li>
  </ul>
</nav>

<!-- MAIN CONTENT -->
<main id="main">
  <!-- PARTS SIDEBAR -->
  <aside id="parts_section">
    <button id="parts_panel_toggle" aria-label="Toggle parts panel">â˜°</button>
    <div class="parts_header">
      <div class="parts_tabs">
        <button
          class="parts_tab active"
          id="tab_power"
          data-tab="power"
          title="Power Creation"
        >
          <img src="img/ui/icons/icon_power.png" alt="Power" />
        </button>
        <button
          class="parts_tab"
          id="tab_heat"
          data-tab="heat"
          title="Heat Management"
        >
          <img src="img/ui/icons/icon_heat.png" alt="Heat" />
        </button>
        <button
          class="parts_tab"
          id="tab_misc1"
          data-tab="misc1"
          title="Other"
          disabled
        >
          <span role="img" aria-label="Locked">ðŸ”’</span>
        </button>
        <button
          class="parts_tab"
          id="tab_misc2"
          data-tab="misc2"
          title="Other"
          disabled
        >
          <span role="img" aria-label="Locked">ðŸ”’</span>
        </button>
        <button
          id="parts_help_toggle"
          class="parts_help_btn"
          title="Toggle help mode - click to show part information instead of placing parts"
          aria-label="Toggle help mode"
        >
          ?
        </button>
      </div>
    </div>
    <div id="parts_tab_contents">
      <div id="parts_tab_power" class="parts_tab_content active">
        <hgroup>
          <h4>Cells</h4>
          <h6>Generate power and heat.</h6>
        </hgroup>
        <div id="cells" class="item-grid"></div>
        <hgroup>
          <h4>Reflectors</h4>
          <h6>Boost adjacent cell output.</h6>
        </hgroup>
        <div id="reflectors" class="item-grid"></div>
        <hgroup>
          <h4>Capacitors</h4>
          <h6>Increase reactor power capacity.</h6>
        </hgroup>
        <div id="capacitors" class="item-grid"></div>
        <hgroup>
          <h4>Particle Accelerators</h4>
          <h6>Generate Exotic Particles from heat.</h6>
        </hgroup>
        <div id="particleAccelerators" class="item-grid"></div>
      </div>
      <div id="parts_tab_heat" class="parts_tab_content">
        <hgroup>
          <h4>Vents</h4>
          <h6>Actively cool components.</h6>
        </hgroup>
        <div id="vents" class="item-grid"></div>
        <hgroup>
          <h4>Heat Exchangers</h4>
          <h6>Distribute heat between components.</h6>
        </hgroup>
        <div id="heatExchangers" class="item-grid"></div>
        <hgroup>
          <h4>Heat Inlets</h4>
          <h6>Move heat into the reactor core.</h6>
        </hgroup>
        <div id="heatInlets" class="item-grid"></div>
        <hgroup>
          <h4>Heat Outlets</h4>
          <h6>Move heat out of the reactor core.</h6>
        </hgroup>
        <div id="heatOutlets" class="item-grid"></div>
        <hgroup>
          <h4>Coolant Cells</h4>
          <h6>Absorb and contain heat.</h6>
        </hgroup>
        <div id="coolantCells" class="item-grid"></div>
        <hgroup>
          <h4>Reactor Plating</h4>
          <h6>Increase reactor heat capacity.</h6>
        </hgroup>
        <div id="reactorPlatings" class="item-grid"></div>
      </div>
    </div>
    <nav id="controls_nav">
      <button id="auto_sell_toggle" class="secondary outline" title="Auto Sell">
        Auto Sell
      </button>
      <button id="auto_buy_toggle" class="secondary outline" title="Auto Buy">
        Auto Buy
      </button>
      <button id="time_flux_toggle" class="secondary outline" title="Time Flux">
        Time Flux
      </button>
      <button
        id="heat_control_toggle"
        class="secondary outline"
        title="Heat Ctrl"
      >
        Auto Heat
      </button>
      <button id="pause_toggle" class="contrast" title="Pause/Play">
        Pause
      </button>
    </nav>
  </aside>

      <div id="main_content_wrapper">
      <!-- Only show objectives on reactor page -->

      <div id="objectives_section">
        <div id="objectives_content">
          <div id="objective_title_wrapper">
            <span id="objective_title"
              ><span><!-- Objective text will be injected here --></span></span
            >
            <span id="objective_reward"></span>
          </div>
        </div>
      </div>



    <!-- End reactor-only objectives -->

    <div id="page_content_area">
      <!-- Content will be loaded dynamically -->
    </div>

    <!-- TOOLTIP -->
    <div id="tooltip" class="hidden">
      <div id="tooltip_data">
        <!-- Content injected by TooltipManager -->
      </div>
      <button id="tooltip_close_btn" title="Close">Ã—</button>
    </div>
  </div>
</main>

<!-- Modal for Copy/Paste Data -->
<div id="reactor_copy_paste_modal" class="hidden">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="reactor_copy_paste_modal_title">Reactor Layout</h3>
      <button id="reactor_copy_paste_close_btn" title="Close">Ã—</button>
    </div>
    <textarea id="reactor_copy_paste_text" style="width:100%;min-height:80px;" placeholder="Paste reactor layout data here..."></textarea>
    <div id="reactor_copy_paste_cost"></div>
    <div class="modal-actions">
      <button id="reactor_copy_paste_confirm_btn" class="hidden">Action</button>
    </div>
  </div>
</div>
<!-- End Copy/Paste UI -->

<!-- INFO BAR (FOOTER) -->
<footer id="info_bar">
  <!-- Desktop Layout (Single Row) -->
  <div class="info-bar-desktop">
    <button
      class="info-item heat"
      id="info_bar_heat_btn_desktop"
      type="button"
      tabindex="0"
      aria-label="Reduce Heat"
    >
      <span class="icon">ðŸ”¥</span>
      <span class="value" id="info_heat_desktop">496</span>
      <span class="denom" id="info_heat_denom_desktop">/1K</span>
    </button>
    <button
      class="info-item power"
      id="info_bar_power_btn_desktop"
      type="button"
      tabindex="0"
      aria-label="Sell Power"
    >
      <span class="icon">âš¡</span>
      <span class="value" id="info_power_desktop">100</span>
      <span class="denom" id="info_power_denom_desktop">/100</span>
    </button>
    <span class="info-item money"
      ><span class="icon">$</span>
      <span class="value" id="info_money_desktop">20.6K</span></span
    >
  </div>

  <!-- Mobile Layout (Two Rows) -->
  <div class="info-bar-mobile">
    <div class="info-row info-main">
      <button
        class="info-item heat"
        id="info_bar_heat_btn"
        type="button"
        tabindex="0"
        aria-label="Reduce Heat"
      >
        <span class="icon">ðŸ”¥</span>
        <span class="value" id="info_heat">496</span>
      </button>
      <button
        class="info-item power"
        id="info_bar_power_btn"
        type="button"
        tabindex="0"
        aria-label="Sell Power"
      >
        <span class="icon">âš¡</span>
        <span class="value" id="info_power">100</span>
      </button>
      <span class="info-item money"
        ><span class="icon">$</span>
        <span class="value" id="info_money">20.6K</span></span
      >
    </div>
    <div class="info-row info-denom">
      <span class="info-item heat"
        ><span class="denom" id="info_heat_denom">/1K</span></span
      >
      <span class="info-item power"
        ><span class="denom" id="info_power_denom">/100</span></span
      >
      <span class="info-item money"></span>
    </div>
  </div>
</footer>

<!-- BOTTOM NAV (MOBILE) -->
<footer id="bottom_nav">
  <nav>
    <ul>
      <li>
        <button data-page="reactor_section" class="secondary active">
          Reactor
        </button>
      </li>
      <li>
        <button data-page="upgrades_section" class="secondary">Upgrades</button>
      </li>
      <li>
        <button data-page="experimental_upgrades_section" class="secondary">
          Research
        </button>
      </li>
    </ul>
  </nav>
</footer>
